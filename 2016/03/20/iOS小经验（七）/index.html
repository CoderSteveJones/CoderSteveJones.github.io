<!DOCTYPE html>
<html lang="zh">
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.3 -->

    <!-- Title -->
    
    <title>
        
            iOS小经验（七） | 
        
        Aben
    </title>

    <!-- Meta & Info -->
    <meta charset="utf-8">

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    

    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Aben">
    <meta name="description" content="null">
    <meta name="keywords" content="null">

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/icon.png">
    <link rel="icon" sizes="192x192" href="/img/icon.png">
    <link rel="apple-touch-icon" href="/img/icon.png">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Aben">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="iOS小经验（七） | Aben">
    <meta property="og:description" content="null">
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS & jQuery -->
    
        <link rel="stylesheet" href="/css/material.min.css">
        <link rel="stylesheet" href="/css/style.min.css">
        <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


        <script src="/js/jquery.min.js"></script>
        <script src="/js/queue.js"></script>
    

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    


    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1、地图上两个点之间的实际距离"><span class="post-toc-number">1.</span> <span class="post-toc-text">1、地图上两个点之间的实际距离</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2、在应用中打开设置的某个界面"><span class="post-toc-number">2.</span> <span class="post-toc-text">2、在应用中打开设置的某个界面</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3、在UITextView中显示html文本"><span class="post-toc-number">3.</span> <span class="post-toc-text">3、在UITextView中显示html文本</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4、监听scrollView是否滚动到了顶部／底部"><span class="post-toc-number">4.</span> <span class="post-toc-text">4、监听scrollView是否滚动到了顶部／底部</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5、UISlider增量／减量为固定值-假如为5"><span class="post-toc-number">5.</span> <span class="post-toc-text">5、UISlider增量／减量为固定值(假如为5)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6、选中textField或者textView所有文本-我这里以textView为例"><span class="post-toc-number">6.</span> <span class="post-toc-text">6、选中textField或者textView所有文本(我这里以textView为例)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#7、从导航控制器中删除某个控制器"><span class="post-toc-number">7.</span> <span class="post-toc-text">7、从导航控制器中删除某个控制器</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#8、隐藏UITextView-UITextField光标"><span class="post-toc-number">8.</span> <span class="post-toc-text">8、隐藏UITextView/UITextField光标</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#9、当UITextView-UITextField中没有文字时，禁用回车键"><span class="post-toc-number">9.</span> <span class="post-toc-text">9、当UITextView/UITextField中没有文字时，禁用回车键</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#10、字符串encode编码-编码url字符串不成功的问题"><span class="post-toc-number">10.</span> <span class="post-toc-text">10、字符串encode编码(编码url字符串不成功的问题)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#11、计算UILabel上某段文字的frame"><span class="post-toc-number">11.</span> <span class="post-toc-text">11、计算UILabel上某段文字的frame</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12、获取随机UUID"><span class="post-toc-number">12.</span> <span class="post-toc-text">12、获取随机UUID</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#13、仿苹果抖动动画"><span class="post-toc-number">13.</span> <span class="post-toc-text">13、仿苹果抖动动画</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#14、修改UISearBar内部背景颜色"><span class="post-toc-number">14.</span> <span class="post-toc-text">14、修改UISearBar内部背景颜色</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#15、UITextView滚动到顶部"><span class="post-toc-number">15.</span> <span class="post-toc-text">15、UITextView滚动到顶部</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#16、通知监听APP生命周期"><span class="post-toc-number">16.</span> <span class="post-toc-text">16、通知监听APP生命周期</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#17、触摸事件类型"><span class="post-toc-number">17.</span> <span class="post-toc-text">17、触摸事件类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#18、UITextField文字周围增加边距"><span class="post-toc-number">18.</span> <span class="post-toc-text">18、UITextField文字周围增加边距</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#19、监听UISlider拖动状态"><span class="post-toc-number">19.</span> <span class="post-toc-text">19、监听UISlider拖动状态</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#20、设置UITextField光标位置"><span class="post-toc-number">20.</span> <span class="post-toc-text">20、设置UITextField光标位置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#21、去除webView底部黑色"><span class="post-toc-number">21.</span> <span class="post-toc-text">21、去除webView底部黑色</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#22、获取collectionViewCell在屏幕中的frame"><span class="post-toc-number">22.</span> <span class="post-toc-text">22、获取collectionViewCell在屏幕中的frame</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#23、比较两个UIImage是否相等"><span class="post-toc-number">23.</span> <span class="post-toc-text">23、比较两个UIImage是否相等</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#24、解决当UIScrollView上有UIButton的时候，触摸到button滑动不了的问题"><span class="post-toc-number">24.</span> <span class="post-toc-text">24、解决当UIScrollView上有UIButton的时候，触摸到button滑动不了的问题</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#25、UITextView中的文字添加阴影效果"><span class="post-toc-number">25.</span> <span class="post-toc-text">25、UITextView中的文字添加阴影效果</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#26、MD5加密"><span class="post-toc-number">26.</span> <span class="post-toc-text">26、MD5加密</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#27、base64加密"><span class="post-toc-number">27.</span> <span class="post-toc-text">27、base64加密</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#28、AES加密"><span class="post-toc-number">28.</span> <span class="post-toc-text">28、AES加密</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#29、3DES加密"><span class="post-toc-number">29.</span> <span class="post-toc-text">29、3DES加密</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#30、单个页面多个网络请求的情况，需要监听所有网络请求结束后刷新UI"><span class="post-toc-number">30.</span> <span class="post-toc-text">30、单个页面多个网络请求的情况，需要监听所有网络请求结束后刷新UI</span></a></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                iOS小经验（七）
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Aben</strong>
        <span>3月 20, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=iOS小经验（七）&url=http://yoursite.com//2016/03/20/iOS小经验（七）/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=iOS小经验（七）&url=http://yoursite.com//2016/03/20/iOS小经验（七）/index.html&via=Aben" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com//2016/03/20/iOS小经验（七）/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com//2016/03/20/iOS小经验（七）/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h4 id="1、地图上两个点之间的实际距离"><a href="#1、地图上两个点之间的实际距离" class="headerlink" title="1、地图上两个点之间的实际距离"></a>1、地图上两个点之间的实际距离</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 需要导入#import &lt;CoreLocation/CoreLocation.h></span>
CLLocation <span class="token operator">*</span>locA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>CLLocation alloc<span class="token punctuation">]</span> initWithLatitude<span class="token punctuation">:</span><span class="token number">34</span> longitude<span class="token punctuation">:</span><span class="token number">113</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    CLLocation <span class="token operator">*</span>locB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>CLLocation alloc<span class="token punctuation">]</span> initWithLatitude<span class="token punctuation">:</span><span class="token number">31.05</span> longitude<span class="token punctuation">:</span><span class="token number">121.76</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// CLLocationDistance求出的单位为米</span>
    CLLocationDistance distance <span class="token operator">=</span> <span class="token punctuation">[</span>locA distanceFromLocation<span class="token punctuation">:</span>locB<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="2、在应用中打开设置的某个界面"><a href="#2、在应用中打开设置的某个界面" class="headerlink" title="2、在应用中打开设置的某个界面"></a>2、在应用中打开设置的某个界面</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 打开设置->通用</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>UIApplication sharedApplication<span class="token punctuation">]</span> openURL<span class="token punctuation">:</span><span class="token punctuation">[</span>NSURL URLWithString<span class="token punctuation">:</span><span class="token string">@"prefs:root=General"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 以下是设置其他界面</span>
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>About
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>ACCESSIBILITY
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>AIRPLANE_MODE
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>AUTOLOCK
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>USAGE<span class="token operator">/</span>CELLULAR_USAGE
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Brightness
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Bluetooth
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>DATE_AND_TIME
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>FACETIME
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>Keyboard
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>CASTLE
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>CASTLE<span class="token operator">&amp;</span>path<span class="token operator">=</span>STORAGE_AND_BACKUP
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>INTERNATIONAL
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>LOCATION_SERVICES
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>ACCOUNT_SETTINGS
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>MUSIC
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>MUSIC<span class="token operator">&amp;</span>path<span class="token operator">=</span>EQ
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>MUSIC<span class="token operator">&amp;</span>path<span class="token operator">=</span>VolumeLimit
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>Network
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>NIKE_PLUS_IPOD
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>NOTES
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>NOTIFICATIONS_ID
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Phone
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Photos
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>ManagedConfigurationList
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>Reset
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Sounds<span class="token operator">&amp;</span>path<span class="token operator">=</span>Ringtone
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Safari
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>Assistant
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Sounds
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>SOFTWARE_UPDATE_LINK
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>STORE
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>TWITTER
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>FACEBOOK
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>USAGE prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>VIDEO
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>General<span class="token operator">&amp;</span>path<span class="token operator">=</span>Network<span class="token operator">/</span>VPN
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Wallpaper
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>WIFI
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>INTERNET_TETHERING
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>Phone<span class="token operator">&amp;</span>path<span class="token operator">=</span>Blocked
prefs<span class="token punctuation">:</span>root<span class="token operator">=</span>DO_NOT_DISTURB
</code></pre>
<h4 id="3、在UITextView中显示html文本"><a href="#3、在UITextView中显示html文本" class="headerlink" title="3、在UITextView中显示html文本"></a>3、在UITextView中显示html文本</h4><pre class=" language-objectivec"><code class="language-objectivec">    UITextView <span class="token operator">*</span>textView <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UITextView alloc<span class="token punctuation">]</span> initWithFrame<span class="token punctuation">:</span><span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">199</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    textView<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor redColor<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span>textView<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSString <span class="token operator">*</span>htmlString <span class="token operator">=</span> <span class="token string">@"&lt;h1>Header&lt;/h1>&lt;h2>Subheader&lt;/h2>&lt;p>Some &lt;em>text&lt;/em>&lt;/p>![](http://blogs.babble.com/famecrawler/files/2010/11/mickey_mouse-1097.jpg)"</span><span class="token punctuation">;</span>
    NSAttributedString <span class="token operator">*</span>attributedString <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSAttributedString alloc<span class="token punctuation">]</span> initWithData<span class="token punctuation">:</span> <span class="token punctuation">[</span>htmlString dataUsingEncoding<span class="token punctuation">:</span>NSUnicodeStringEncoding<span class="token punctuation">]</span> options<span class="token punctuation">:</span> <span class="token operator">@</span><span class="token punctuation">{</span> NSDocumentTypeDocumentAttribute<span class="token punctuation">:</span> NSHTMLTextDocumentType <span class="token punctuation">}</span> documentAttributes<span class="token punctuation">:</span> nil error<span class="token punctuation">:</span> nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
    textView<span class="token punctuation">.</span>attributedText <span class="token operator">=</span> attributedString<span class="token punctuation">;</span>
</code></pre>
<h4 id="4、监听scrollView是否滚动到了顶部／底部"><a href="#4、监听scrollView是否滚动到了顶部／底部" class="headerlink" title="4、监听scrollView是否滚动到了顶部／底部"></a>4、监听scrollView是否滚动到了顶部／底部</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>scrollViewDidScroll<span class="token punctuation">:</span> <span class="token punctuation">(</span>UIScrollView<span class="token operator">*</span><span class="token punctuation">)</span>scrollView
<span class="token punctuation">{</span>
    <span class="token keyword">float</span> scrollViewHeight <span class="token operator">=</span> scrollView<span class="token punctuation">.</span>frame<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">float</span> scrollContentSizeHeight <span class="token operator">=</span> scrollView<span class="token punctuation">.</span>contentSize<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">float</span> scrollOffset <span class="token operator">=</span> scrollView<span class="token punctuation">.</span>contentOffset<span class="token punctuation">.</span>y<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollOffset <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 滚动到了顶部</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollOffset <span class="token operator">+</span> scrollViewHeight <span class="token operator">==</span> scrollContentSizeHeight<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 滚动到了底部</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="5、UISlider增量／减量为固定值-假如为5"><a href="#5、UISlider增量／减量为固定值-假如为5" class="headerlink" title="5、UISlider增量／减量为固定值(假如为5)"></a>5、UISlider增量／减量为固定值(假如为5)</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setupSlider
<span class="token punctuation">{</span>
    UISlider <span class="token operator">*</span>slider <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>UISlider alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>view addSubview<span class="token punctuation">:</span>slider<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>slider addTarget<span class="token punctuation">:</span><span class="token keyword">self</span> action<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>sliderAction<span class="token punctuation">:</span><span class="token punctuation">)</span> forControlEvents<span class="token punctuation">:</span>UIControlEventValueChanged<span class="token punctuation">]</span><span class="token punctuation">;</span>
    slider<span class="token punctuation">.</span>maximumValue <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    slider<span class="token punctuation">.</span>minimumValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    slider<span class="token punctuation">.</span>frame <span class="token operator">=</span> <span class="token function">CGRectMake</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sliderAction<span class="token punctuation">:</span><span class="token punctuation">(</span>UISlider <span class="token operator">*</span><span class="token punctuation">)</span>slider
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span>slider setValue<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>slider<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">2.5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> animated<span class="token punctuation">:</span>NO<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="6、选中textField或者textView所有文本-我这里以textView为例"><a href="#6、选中textField或者textView所有文本-我这里以textView为例" class="headerlink" title="6、选中textField或者textView所有文本(我这里以textView为例)"></a>6、选中textField或者textView所有文本(我这里以textView为例)</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>textView setSelectedTextRange<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>textView textRangeFromPosition<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>textView<span class="token punctuation">.</span>beginningOfDocument toPosition<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>textView<span class="token punctuation">.</span>endOfDocument<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre>
<h4 id="7、从导航控制器中删除某个控制器"><a href="#7、从导航控制器中删除某个控制器" class="headerlink" title="7、从导航控制器中删除某个控制器"></a>7、从导航控制器中删除某个控制器</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 方法一、知道这个控制器所处的导航控制器下标</span>
NSMutableArray <span class="token operator">*</span>navigationArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSMutableArray alloc<span class="token punctuation">]</span> initWithArray<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">.</span>navigationController<span class="token punctuation">.</span>viewControllers<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>navigationArray removeObjectAtIndex<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token keyword">self</span><span class="token punctuation">.</span>navigationController<span class="token punctuation">.</span>viewControllers <span class="token operator">=</span> navigationArray<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 方法二、知道具体是哪个控制器</span>
NSArray<span class="token operator">*</span> tempVCA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>navigationController viewControllers<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>UIViewController <span class="token operator">*</span>tempVC <span class="token keyword">in</span> tempVCA<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>tempVC isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>urViewControllerClass class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>tempVC removeFromParentViewController<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="8、隐藏UITextView-UITextField光标"><a href="#8、隐藏UITextView-UITextField光标" class="headerlink" title="8、隐藏UITextView/UITextField光标"></a>8、隐藏UITextView/UITextField光标</h4><pre class=" language-objectivec"><code class="language-objectivec">textField<span class="token punctuation">.</span>tintColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor clearColor<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="9、当UITextView-UITextField中没有文字时，禁用回车键"><a href="#9、当UITextView-UITextField中没有文字时，禁用回车键" class="headerlink" title="9、当UITextView/UITextField中没有文字时，禁用回车键"></a>9、当UITextView/UITextField中没有文字时，禁用回车键</h4><pre class=" language-objectivec"><code class="language-objectivec">textField<span class="token punctuation">.</span>enablesReturnKeyAutomatically <span class="token operator">=</span> YES<span class="token punctuation">;</span>
</code></pre>
<h4 id="10、字符串encode编码-编码url字符串不成功的问题"><a href="#10、字符串encode编码-编码url字符串不成功的问题" class="headerlink" title="10、字符串encode编码(编码url字符串不成功的问题)"></a>10、字符串encode编码(编码url字符串不成功的问题)</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 我们一般用这个方法处理stringByAddingPercentEscapesUsingEncoding但是这个方法好想不会处理／和&amp;这种特殊符号，这种情况就需要用下边这个方法处理</span>
<span class="token keyword">@implementation</span> <span class="token function">NSString</span> <span class="token punctuation">(</span>NSString_Extended<span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>urlencode <span class="token punctuation">{</span>
    NSMutableString <span class="token operator">*</span>output <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableString string<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>source <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">self</span> UTF8String<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sourceLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sourceLen<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> thisChar <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>thisChar <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token punctuation">[</span>output appendString<span class="token punctuation">:</span><span class="token string">@"+"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>thisChar <span class="token operator">==</span> <span class="token string">'.'</span> <span class="token operator">||</span> thisChar <span class="token operator">==</span> <span class="token string">'-'</span> <span class="token operator">||</span> thisChar <span class="token operator">==</span> <span class="token string">'_'</span> <span class="token operator">||</span> thisChar <span class="token operator">==</span> <span class="token string">'~'</span> <span class="token operator">||</span> 
                   <span class="token punctuation">(</span>thisChar <span class="token operator">>=</span> <span class="token string">'a'</span> <span class="token operator">&amp;&amp;</span> thisChar <span class="token operator">&lt;=</span> <span class="token string">'z'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                   <span class="token punctuation">(</span>thisChar <span class="token operator">>=</span> <span class="token string">'A'</span> <span class="token operator">&amp;&amp;</span> thisChar <span class="token operator">&lt;=</span> <span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                   <span class="token punctuation">(</span>thisChar <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> thisChar <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>output appendFormat<span class="token punctuation">:</span><span class="token string">@"%c"</span><span class="token punctuation">,</span> thisChar<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>output appendFormat<span class="token punctuation">:</span><span class="token string">@"%%%02X"</span><span class="token punctuation">,</span> thisChar<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="11、计算UILabel上某段文字的frame"><a href="#11、计算UILabel上某段文字的frame" class="headerlink" title="11、计算UILabel上某段文字的frame"></a>11、计算UILabel上某段文字的frame</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token keyword">@implementation</span> <span class="token function">UILabel</span> <span class="token punctuation">(</span>TextRect<span class="token punctuation">)</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>boundingRectForCharacterRange<span class="token punctuation">:</span><span class="token punctuation">(</span>NSRange<span class="token punctuation">)</span>range
<span class="token punctuation">{</span>
    NSTextStorage <span class="token operator">*</span>textStorage <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSTextStorage alloc<span class="token punctuation">]</span> initWithAttributedString<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> attributedText<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSLayoutManager <span class="token operator">*</span>layoutManager <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSLayoutManager alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>textStorage addLayoutManager<span class="token punctuation">:</span>layoutManager<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSTextContainer <span class="token operator">*</span>textContainer <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSTextContainer alloc<span class="token punctuation">]</span> initWithSize<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">self</span> bounds<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
    textContainer<span class="token punctuation">.</span>lineFragmentPadding <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>layoutManager addTextContainer<span class="token punctuation">:</span>textContainer<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSRange glyphRange<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>layoutManager characterRangeForGlyphRange<span class="token punctuation">:</span>range actualGlyphRange<span class="token punctuation">:</span><span class="token operator">&amp;</span>glyphRange<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>layoutManager boundingRectForGlyphRange<span class="token punctuation">:</span>glyphRange inTextContainer<span class="token punctuation">:</span>textContainer<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="12、获取随机UUID"><a href="#12、获取随机UUID" class="headerlink" title="12、获取随机UUID"></a>12、获取随机UUID</h4><pre class=" language-objectivec"><code class="language-objectivec">NSString <span class="token operator">*</span>result<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>UIDevice currentDevice<span class="token punctuation">]</span> systemVersion<span class="token punctuation">]</span> floatValue<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">6.0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
       result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSUUID UUID<span class="token punctuation">]</span> UUIDString<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        CFUUIDRef uuidRef <span class="token operator">=</span> <span class="token function">CFUUIDCreate</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        CFStringRef uuid <span class="token operator">=</span> <span class="token function">CFUUIDCreateString</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> uuidRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">CFRelease</span><span class="token punctuation">(</span>uuidRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
        result <span class="token operator">=</span> <span class="token punctuation">(</span>__bridge_transfer NSString <span class="token operator">*</span><span class="token punctuation">)</span>uuid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<h4 id="13、仿苹果抖动动画"><a href="#13、仿苹果抖动动画" class="headerlink" title="13、仿苹果抖动动画"></a>13、仿苹果抖动动画</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">define</span> RADIANS(degrees) (((degrees) * M_PI) / 180.0)</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>startAnimate <span class="token punctuation">{</span>
    view<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CGAffineTransformRotate</span><span class="token punctuation">(</span>CGAffineTransformIdentity<span class="token punctuation">,</span> <span class="token function">RADIANS</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span>UIView animateWithDuration<span class="token punctuation">:</span><span class="token number">0.25</span> delay<span class="token punctuation">:</span><span class="token number">0.0</span> options<span class="token punctuation">:</span><span class="token punctuation">(</span>UIViewAnimationOptionAllowUserInteraction <span class="token operator">|</span> UIViewAnimationOptionRepeat <span class="token operator">|</span> UIViewAnimationOptionAutoreverse<span class="token punctuation">)</span> animations<span class="token punctuation">:</span><span class="token operator">^</span> <span class="token punctuation">{</span>
                         view<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token function">CGAffineTransformRotate</span><span class="token punctuation">(</span>CGAffineTransformIdentity<span class="token punctuation">,</span> <span class="token function">RADIANS</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     <span class="token punctuation">}</span> completion<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>stopAnimate <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>UIView animateWithDuration<span class="token punctuation">:</span><span class="token number">0.25</span> delay<span class="token punctuation">:</span><span class="token number">0.0</span> options<span class="token punctuation">:</span><span class="token punctuation">(</span>UIViewAnimationOptionAllowUserInteraction <span class="token operator">|</span> UIViewAnimationOptionBeginFromCurrentState <span class="token operator">|</span> UIViewAnimationOptionCurveLinear<span class="token punctuation">)</span> animations<span class="token punctuation">:</span><span class="token operator">^</span> <span class="token punctuation">{</span>
                         view<span class="token punctuation">.</span>transform <span class="token operator">=</span> CGAffineTransformIdentity<span class="token punctuation">;</span>
                     <span class="token punctuation">}</span> completion<span class="token punctuation">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="14、修改UISearBar内部背景颜色"><a href="#14、修改UISearBar内部背景颜色" class="headerlink" title="14、修改UISearBar内部背景颜色"></a>14、修改UISearBar内部背景颜色</h4><pre class=" language-objectivec"><code class="language-objectivec">UITextField <span class="token operator">*</span>textField <span class="token operator">=</span> <span class="token punctuation">[</span>_searchBar valueForKey<span class="token punctuation">:</span><span class="token string">@"_searchField"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
textField<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor redColor<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="15、UITextView滚动到顶部"><a href="#15、UITextView滚动到顶部" class="headerlink" title="15、UITextView滚动到顶部"></a>15、UITextView滚动到顶部</h4><pre class=" language-objectivec"><code class="language-objectivec">    <span class="token comment" spellcheck="true">// 方法一</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>textView scrollRangeToVisible<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 方法二</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>textView setContentOffset<span class="token punctuation">:</span>CGPointZero animated<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="16、通知监听APP生命周期"><a href="#16、通知监听APP生命周期" class="headerlink" title="16、通知监听APP生命周期"></a>16、通知监听APP生命周期</h4><pre class=" language-objectivec"><code class="language-objectivec">UIApplicationDidEnterBackgroundNotification 应用程序进入后台
UIApplicationWillEnterForegroundNotification 应用程序将要进入前台
UIApplicationDidFinishLaunchingNotification 应用程序完成启动
UIApplicationDidFinishLaunchingNotification 应用程序由挂起变的活跃
UIApplicationWillResignActiveNotification 应用程序挂起<span class="token punctuation">(</span>有电话进来或者锁屏<span class="token punctuation">)</span>
UIApplicationDidReceiveMemoryWarningNotification 应用程序收到内存警告
UIApplicationDidReceiveMemoryWarningNotification 应用程序终止<span class="token punctuation">(</span>后台杀死、手机关机等<span class="token punctuation">)</span>
UIApplicationSignificantTimeChangeNotification 当有重大时间改变<span class="token punctuation">(</span>凌晨<span class="token number">0</span>点，设备时间被修改，时区改变等<span class="token punctuation">)</span>
UIApplicationWillChangeStatusBarOrientationNotification 设备方向将要改变
UIApplicationDidChangeStatusBarOrientationNotification 设备方向改变
UIApplicationWillChangeStatusBarFrameNotification 设备状态栏frame将要改变
UIApplicationDidChangeStatusBarFrameNotification 设备状态栏frame改变
UIApplicationBackgroundRefreshStatusDidChangeNotification 应用程序在后台下载内容的状态发生变化
UIApplicationProtectedDataWillBecomeUnavailable 本地受保护的文件被锁定<span class="token punctuation">,</span>无法访问
UIApplicationProtectedDataWillBecomeUnavailable 本地受保护的文件可用了
</code></pre>
<h4 id="17、触摸事件类型"><a href="#17、触摸事件类型" class="headerlink" title="17、触摸事件类型"></a>17、触摸事件类型</h4><pre class=" language-objectivec"><code class="language-objectivec">UIControlEventTouchCancel 取消控件当前触发的事件
UIControlEventTouchDown 点按下去的事件
UIControlEventTouchDownRepeat 重复的触动事件
UIControlEventTouchDragEnter 手指被拖动到控件的边界的事件
UIControlEventTouchDragExit 一个手指从控件内拖到外界的事件
UIControlEventTouchDragInside 手指在控件的边界内拖动的事件
UIControlEventTouchDragOutside 手指在控件边界之外被拖动的事件
UIControlEventTouchUpInside 手指处于控制范围内的触摸事件
UIControlEventTouchUpOutside 手指超出控制范围的控制中的触摸事件
</code></pre>
<h4 id="18、UITextField文字周围增加边距"><a href="#18、UITextField文字周围增加边距" class="headerlink" title="18、UITextField文字周围增加边距"></a>18、UITextField文字周围增加边距</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 子类化UITextField，增加insert属性</span>
<span class="token keyword">@interface</span> WZBTextField <span class="token punctuation">:</span> UITextField
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> assign<span class="token punctuation">)</span> UIEdgeInsets insets<span class="token punctuation">;</span>
<span class="token keyword">@end</span>

<span class="token comment" spellcheck="true">// 在.m文件重写下列方法</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>textRectForBounds<span class="token punctuation">:</span><span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>bounds <span class="token punctuation">{</span>
    CGRect paddedRect <span class="token operator">=</span> <span class="token function">UIEdgeInsetsInsetRect</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>insets<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>rightViewMode <span class="token operator">==</span> UITextFieldViewModeAlways <span class="token operator">||</span> <span class="token keyword">self</span><span class="token punctuation">.</span>rightViewMode <span class="token operator">==</span> UITextFieldViewModeUnlessEditing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> adjustRectWithWidthRightView<span class="token punctuation">:</span>paddedRect<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> paddedRect<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>placeholderRectForBounds<span class="token punctuation">:</span><span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>bounds <span class="token punctuation">{</span>
    CGRect paddedRect <span class="token operator">=</span> <span class="token function">UIEdgeInsetsInsetRect</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>insets<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>rightViewMode <span class="token operator">==</span> UITextFieldViewModeAlways <span class="token operator">||</span> <span class="token keyword">self</span><span class="token punctuation">.</span>rightViewMode <span class="token operator">==</span> UITextFieldViewModeUnlessEditing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> adjustRectWithWidthRightView<span class="token punctuation">:</span>paddedRect<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> paddedRect<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>editingRectForBounds<span class="token punctuation">:</span><span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>bounds <span class="token punctuation">{</span>
    CGRect paddedRect <span class="token operator">=</span> <span class="token function">UIEdgeInsetsInsetRect</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>insets<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>rightViewMode <span class="token operator">==</span> UITextFieldViewModeAlways <span class="token operator">||</span> <span class="token keyword">self</span><span class="token punctuation">.</span>rightViewMode <span class="token operator">==</span> UITextFieldViewModeWhileEditing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> adjustRectWithWidthRightView<span class="token punctuation">:</span>paddedRect<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> paddedRect<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>adjustRectWithWidthRightView<span class="token punctuation">:</span><span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>bounds <span class="token punctuation">{</span>
    CGRect paddedRect <span class="token operator">=</span> bounds<span class="token punctuation">;</span>
    paddedRect<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">-</span><span class="token operator">=</span> <span class="token function">CGRectGetWidth</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>rightView<span class="token punctuation">.</span>frame<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> paddedRect<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="19、监听UISlider拖动状态"><a href="#19、监听UISlider拖动状态" class="headerlink" title="19、监听UISlider拖动状态"></a>19、监听UISlider拖动状态</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 添加事件</span>
<span class="token punctuation">[</span>slider addTarget<span class="token punctuation">:</span><span class="token keyword">self</span> action<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>sliderValurChanged<span class="token punctuation">:</span>forEvent<span class="token punctuation">:</span><span class="token punctuation">)</span> forControlEvents<span class="token punctuation">:</span>UIControlEventValueChanged<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 实现方法</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sliderValurChanged<span class="token punctuation">:</span><span class="token punctuation">(</span>UISlider<span class="token operator">*</span><span class="token punctuation">)</span>slider forEvent<span class="token punctuation">:</span><span class="token punctuation">(</span>UIEvent<span class="token operator">*</span><span class="token punctuation">)</span>event <span class="token punctuation">{</span>
    UITouch <span class="token operator">*</span>touchEvent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>event allTouches<span class="token punctuation">]</span> anyObject<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>touchEvent<span class="token punctuation">.</span>phase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> UITouchPhaseBegan<span class="token punctuation">:</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"开始拖动"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> UITouchPhaseMoved<span class="token punctuation">:</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"正在拖动"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> UITouchPhaseEnded<span class="token punctuation">:</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"结束拖动"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="20、设置UITextField光标位置"><a href="#20、设置UITextField光标位置" class="headerlink" title="20、设置UITextField光标位置"></a>20、设置UITextField光标位置</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// textField需要设置的textField，index要设置的光标位置</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>cursorLocation<span class="token punctuation">:</span><span class="token punctuation">(</span>UITextField <span class="token operator">*</span><span class="token punctuation">)</span>textField index<span class="token punctuation">:</span><span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>index
<span class="token punctuation">{</span>
    NSRange range <span class="token operator">=</span> <span class="token function">NSMakeRange</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    UITextPosition <span class="token operator">*</span>start <span class="token operator">=</span> <span class="token punctuation">[</span>textField positionFromPosition<span class="token punctuation">:</span><span class="token punctuation">[</span>textField beginningOfDocument<span class="token punctuation">]</span> offset<span class="token punctuation">:</span>range<span class="token punctuation">.</span>location<span class="token punctuation">]</span><span class="token punctuation">;</span>
    UITextPosition <span class="token operator">*</span>end <span class="token operator">=</span> <span class="token punctuation">[</span>textField positionFromPosition<span class="token punctuation">:</span>start offset<span class="token punctuation">:</span>range<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>textField setSelectedTextRange<span class="token punctuation">:</span><span class="token punctuation">[</span>textField textRangeFromPosition<span class="token punctuation">:</span>start toPosition<span class="token punctuation">:</span>end<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="21、去除webView底部黑色"><a href="#21、去除webView底部黑色" class="headerlink" title="21、去除webView底部黑色"></a>21、去除webView底部黑色</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token punctuation">[</span>webView setBackgroundColor<span class="token punctuation">:</span><span class="token punctuation">[</span>UIColor clearColor<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>webView setOpaque<span class="token punctuation">:</span>NO<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>UIView <span class="token operator">*</span>v1 <span class="token keyword">in</span> <span class="token punctuation">[</span>webView subviews<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>v1 isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>UIScrollView class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>UIView <span class="token operator">*</span>v2 <span class="token keyword">in</span> v1<span class="token punctuation">.</span>subviews<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>v2 isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">[</span>UIImageView class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    v2<span class="token punctuation">.</span>hidden <span class="token operator">=</span> YES<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<h4 id="22、获取collectionViewCell在屏幕中的frame"><a href="#22、获取collectionViewCell在屏幕中的frame" class="headerlink" title="22、获取collectionViewCell在屏幕中的frame"></a>22、获取collectionViewCell在屏幕中的frame</h4><pre class=" language-objectivec"><code class="language-objectivec">UICollectionViewLayoutAttributes <span class="token operator">*</span>attributes <span class="token operator">=</span> <span class="token punctuation">[</span>collectionView layoutAttributesForItemAtIndexPath<span class="token punctuation">:</span>indexPath<span class="token punctuation">]</span><span class="token punctuation">;</span>
CGRect cellRect <span class="token operator">=</span> attributes<span class="token punctuation">.</span>frame<span class="token punctuation">;</span>
CGRect cellFrameInSuperview <span class="token operator">=</span> <span class="token punctuation">[</span>collectionView convertRect<span class="token punctuation">:</span>cellRect toView<span class="token punctuation">:</span><span class="token punctuation">[</span>cv superview<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="23、比较两个UIImage是否相等"><a href="#23、比较两个UIImage是否相等" class="headerlink" title="23、比较两个UIImage是否相等"></a>23、比较两个UIImage是否相等</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>image<span class="token punctuation">:</span><span class="token punctuation">(</span>UIImage <span class="token operator">*</span><span class="token punctuation">)</span>image1 isEqualTo<span class="token punctuation">:</span><span class="token punctuation">(</span>UIImage <span class="token operator">*</span><span class="token punctuation">)</span>image2
<span class="token punctuation">{</span>
    NSData <span class="token operator">*</span>data1 <span class="token operator">=</span> <span class="token function">UIImagePNGRepresentation</span><span class="token punctuation">(</span>image1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    NSData <span class="token operator">*</span>data2 <span class="token operator">=</span> <span class="token function">UIImagePNGRepresentation</span><span class="token punctuation">(</span>image2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span>data1 isEqual<span class="token punctuation">:</span>data2<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="24、解决当UIScrollView上有UIButton的时候，触摸到button滑动不了的问题"><a href="#24、解决当UIScrollView上有UIButton的时候，触摸到button滑动不了的问题" class="headerlink" title="24、解决当UIScrollView上有UIButton的时候，触摸到button滑动不了的问题"></a>24、解决当UIScrollView上有UIButton的时候，触摸到button滑动不了的问题</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token comment" spellcheck="true">// 子类化UIScrollView，并重写以下方法</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>instancetype<span class="token punctuation">)</span>initWithFrame<span class="token punctuation">:</span><span class="token punctuation">(</span>CGRect<span class="token punctuation">)</span>frame <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">super</span> initWithFrame<span class="token punctuation">:</span>frame<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>delaysContentTouches <span class="token operator">=</span> NO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>touchesShouldCancelInContentView<span class="token punctuation">:</span><span class="token punctuation">(</span>UIView <span class="token operator">*</span><span class="token punctuation">)</span>view <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>view isKindOfClass<span class="token punctuation">:</span>UIButton<span class="token punctuation">.</span>class<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> YES<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">super</span> touchesShouldCancelInContentView<span class="token punctuation">:</span>view<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="25、UITextView中的文字添加阴影效果"><a href="#25、UITextView中的文字添加阴影效果" class="headerlink" title="25、UITextView中的文字添加阴影效果"></a>25、UITextView中的文字添加阴影效果</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setTextLayer<span class="token punctuation">:</span><span class="token punctuation">(</span>UITextView <span class="token operator">*</span><span class="token punctuation">)</span>textView color<span class="token punctuation">:</span><span class="token punctuation">(</span>UIColor <span class="token operator">*</span><span class="token punctuation">)</span>color
<span class="token punctuation">{</span>
    CALayer <span class="token operator">*</span>textLayer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>CALayer <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">[</span>textView<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>sublayers objectAtIndex<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    textLayer<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> color<span class="token punctuation">.</span>CGColor<span class="token punctuation">;</span>
    textLayer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token function">CGSizeMake</span><span class="token punctuation">(</span><span class="token number">0.0f</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    textLayer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>
    textLayer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="26、MD5加密"><a href="#26、MD5加密" class="headerlink" title="26、MD5加密"></a>26、MD5加密</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token operator">+</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>md5<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>str
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>concat_str <span class="token operator">=</span> <span class="token punctuation">[</span>str UTF8String<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span> result<span class="token punctuation">[</span>CC_MD5_DIGEST_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">CC_MD5</span><span class="token punctuation">(</span>concat_str<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">strlen</span><span class="token punctuation">(</span>concat_str<span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    NSMutableString <span class="token operator">*</span>hash <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableString string<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">16</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">[</span>hash appendFormat<span class="token punctuation">:</span><span class="token string">@"%02X"</span><span class="token punctuation">,</span> result<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>hash uppercaseString<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="27、base64加密"><a href="#27、base64加密" class="headerlink" title="27、base64加密"></a>27、base64加密</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token keyword">@interface</span> <span class="token function">NSData</span> <span class="token punctuation">(</span>Base64<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">/**
 *  @brief  字符串base64后转data
 */</span>
<span class="token operator">+</span> <span class="token punctuation">(</span>NSData <span class="token operator">*</span><span class="token punctuation">)</span>dataWithBase64EncodedString<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>string
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span>string length<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nil<span class="token punctuation">;</span>
    NSData <span class="token operator">*</span>decoded <span class="token operator">=</span> nil<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> __MAC_OS_X_VERSION_MIN_REQUIRED &lt; __MAC_10_9 || __IPHONE_OS_VERSION_MIN_REQUIRED &lt; __IPHONE_7_0</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span>NSData instancesRespondToSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>initWithBase64EncodedString<span class="token punctuation">:</span>options<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> clang diagnostic push</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> clang diagnostic ignored "-Wdeprecated-declarations"</span>
        decoded <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">self</span> alloc<span class="token punctuation">]</span> initWithBase64Encoding<span class="token punctuation">:</span><span class="token punctuation">[</span>string stringByReplacingOccurrencesOfString<span class="token punctuation">:</span><span class="token string">@"[^A-Za-z0-9+/=]"</span> withString<span class="token punctuation">:</span><span class="token string">@""</span> options<span class="token punctuation">:</span>NSRegularExpressionSearch range<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>string length<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> clang diagnostic pop</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
    <span class="token punctuation">{</span>
        decoded <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">self</span> alloc<span class="token punctuation">]</span> initWithBase64EncodedString<span class="token punctuation">:</span>string options<span class="token punctuation">:</span>NSDataBase64DecodingIgnoreUnknownCharacters<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>decoded length<span class="token punctuation">]</span><span class="token operator">?</span> decoded<span class="token punctuation">:</span> nil<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/**
 *  @brief  NSData转string
 *  @param wrapWidth 换行长度  76  64
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>base64EncodedStringWithWrapWidth<span class="token punctuation">:</span><span class="token punctuation">(</span>NSUInteger<span class="token punctuation">)</span>wrapWidth
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token keyword">self</span> length<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nil<span class="token punctuation">;</span>
    NSString <span class="token operator">*</span>encoded <span class="token operator">=</span> nil<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> __MAC_OS_X_VERSION_MIN_REQUIRED &lt; __MAC_10_9 || __IPHONE_OS_VERSION_MIN_REQUIRED &lt; __IPHONE_7_0</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span>NSData instancesRespondToSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>base64EncodedStringWithOptions<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> clang diagnostic push</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> clang diagnostic ignored "-Wdeprecated-declarations"</span>
        encoded <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> base64Encoding<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> clang diagnostic pop</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>wrapWidth<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token number">64</span><span class="token punctuation">:</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> base64EncodedStringWithOptions<span class="token punctuation">:</span>NSDataBase64Encoding64CharacterLineLength<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">case</span> <span class="token number">76</span><span class="token punctuation">:</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> base64EncodedStringWithOptions<span class="token punctuation">:</span>NSDataBase64Encoding76CharacterLineLength<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token punctuation">{</span>
                encoded <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">self</span> base64EncodedStringWithOptions<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDataBase64EncodingOptions<span class="token punctuation">)</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>wrapWidth <span class="token operator">||</span> wrapWidth <span class="token operator">>=</span> <span class="token punctuation">[</span>encoded length<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> encoded<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    wrapWidth <span class="token operator">=</span> <span class="token punctuation">(</span>wrapWidth <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
    NSMutableString <span class="token operator">*</span>result <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableString string<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>NSUInteger i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">[</span>encoded length<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">+</span><span class="token operator">=</span> wrapWidth<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> wrapWidth <span class="token operator">>=</span> <span class="token punctuation">[</span>encoded length<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>result appendString<span class="token punctuation">:</span><span class="token punctuation">[</span>encoded substringFromIndex<span class="token punctuation">:</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">[</span>result appendString<span class="token punctuation">:</span><span class="token punctuation">[</span>encoded substringWithRange<span class="token punctuation">:</span><span class="token function">NSMakeRange</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> wrapWidth<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">[</span>result appendString<span class="token punctuation">:</span><span class="token string">@"\r\n"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/**
 *  @brief  NSData转string 换行长度默认64
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>base64EncodedString
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> base64EncodedStringWithWrapWidth<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="28、AES加密"><a href="#28、AES加密" class="headerlink" title="28、AES加密"></a>28、AES加密</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">import</span> &lt;CommonCrypto/CommonCryptor.h></span>
<span class="token keyword">@interface</span> <span class="token function">NSData</span> <span class="token punctuation">(</span>AES<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">/**
 *  利用AES加密数据
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>encryptedWithAESUsingKey<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>key andIV<span class="token punctuation">:</span><span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>iv <span class="token punctuation">{</span>

    NSData <span class="token operator">*</span>keyData <span class="token operator">=</span> <span class="token punctuation">[</span>key dataUsingEncoding<span class="token punctuation">:</span>NSUTF8StringEncoding<span class="token punctuation">]</span><span class="token punctuation">;</span>

    size_t dataMoved<span class="token punctuation">;</span>
    NSMutableData <span class="token operator">*</span>encryptedData <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableData dataWithLength<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>length <span class="token operator">+</span> kCCBlockSizeAES128<span class="token punctuation">]</span><span class="token punctuation">;</span>

    CCCryptorStatus status <span class="token operator">=</span> <span class="token function">CCCrypt</span><span class="token punctuation">(</span>kCCEncrypt<span class="token punctuation">,</span>kCCAlgorithmAES128<span class="token punctuation">,</span>kCCOptionPKCS7Padding<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>length<span class="token punctuation">,</span>iv<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>encryptedData<span class="token punctuation">.</span>mutableBytes<span class="token punctuation">,</span> encryptedData<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token operator">&amp;</span>dataMoved<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> kCCSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        encryptedData<span class="token punctuation">.</span>length <span class="token operator">=</span> dataMoved<span class="token punctuation">;</span>
        <span class="token keyword">return</span> encryptedData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> nil<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 *  @brief  利用AES解密据
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>decryptedWithAESUsingKey<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>key andIV<span class="token punctuation">:</span><span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>iv <span class="token punctuation">{</span>

    NSData <span class="token operator">*</span>keyData <span class="token operator">=</span> <span class="token punctuation">[</span>key dataUsingEncoding<span class="token punctuation">:</span>NSUTF8StringEncoding<span class="token punctuation">]</span><span class="token punctuation">;</span>

    size_t dataMoved<span class="token punctuation">;</span>
    NSMutableData <span class="token operator">*</span>decryptedData <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableData dataWithLength<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>length <span class="token operator">+</span> kCCBlockSizeAES128<span class="token punctuation">]</span><span class="token punctuation">;</span>

    CCCryptorStatus result <span class="token operator">=</span> <span class="token function">CCCrypt</span><span class="token punctuation">(</span>kCCDecrypt<span class="token punctuation">,</span>kCCAlgorithmAES128<span class="token punctuation">,</span>kCCOptionPKCS7Padding<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>length<span class="token punctuation">,</span>iv<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>decryptedData<span class="token punctuation">.</span>mutableBytes<span class="token punctuation">,</span> decryptedData<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token operator">&amp;</span>dataMoved<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> kCCSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        decryptedData<span class="token punctuation">.</span>length <span class="token operator">=</span> dataMoved<span class="token punctuation">;</span>
        <span class="token keyword">return</span> decryptedData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> nil<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<h4 id="29、3DES加密"><a href="#29、3DES加密" class="headerlink" title="29、3DES加密"></a>29、3DES加密</h4><pre class=" language-objectivec"><code class="language-objectivec"><span class="token macro property">#<span class="token directive keyword">import</span> &lt;CommonCrypto/CommonCryptor.h></span>
<span class="token keyword">@interface</span> <span class="token function">NSData</span> <span class="token punctuation">(</span>3DES<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">/**
 *  利用3DES加密数据
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>encryptedWith3DESUsingKey<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>key andIV<span class="token punctuation">:</span><span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>iv <span class="token punctuation">{</span>

    NSData <span class="token operator">*</span>keyData <span class="token operator">=</span> <span class="token punctuation">[</span>key dataUsingEncoding<span class="token punctuation">:</span>NSUTF8StringEncoding<span class="token punctuation">]</span><span class="token punctuation">;</span>

    size_t dataMoved<span class="token punctuation">;</span>
    NSMutableData <span class="token operator">*</span>encryptedData <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableData dataWithLength<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>length <span class="token operator">+</span> kCCBlockSize3DES<span class="token punctuation">]</span><span class="token punctuation">;</span>

    CCCryptorStatus result <span class="token operator">=</span> <span class="token function">CCCrypt</span><span class="token punctuation">(</span>kCCEncrypt<span class="token punctuation">,</span>kCCAlgorithm3DES<span class="token punctuation">,</span>kCCOptionPKCS7Padding<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>length<span class="token punctuation">,</span>iv<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>encryptedData<span class="token punctuation">.</span>mutableBytes<span class="token punctuation">,</span>encryptedData<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token operator">&amp;</span>dataMoved<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> kCCSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        encryptedData<span class="token punctuation">.</span>length <span class="token operator">=</span> dataMoved<span class="token punctuation">;</span>
        <span class="token keyword">return</span> encryptedData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> nil<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/**
 *  @brief   利用3DES解密数据
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>decryptedWith3DESUsingKey<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString<span class="token operator">*</span><span class="token punctuation">)</span>key andIV<span class="token punctuation">:</span><span class="token punctuation">(</span>NSData<span class="token operator">*</span><span class="token punctuation">)</span>iv <span class="token punctuation">{</span>

    NSData <span class="token operator">*</span>keyData <span class="token operator">=</span> <span class="token punctuation">[</span>key dataUsingEncoding<span class="token punctuation">:</span>NSUTF8StringEncoding<span class="token punctuation">]</span><span class="token punctuation">;</span>

    size_t dataMoved<span class="token punctuation">;</span>
    NSMutableData <span class="token operator">*</span>decryptedData <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableData dataWithLength<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>length <span class="token operator">+</span> kCCBlockSize3DES<span class="token punctuation">]</span><span class="token punctuation">;</span>

    CCCryptorStatus result <span class="token operator">=</span> <span class="token function">CCCrypt</span><span class="token punctuation">(</span>kCCDecrypt<span class="token punctuation">,</span>kCCAlgorithm3DES<span class="token punctuation">,</span>kCCOptionPKCS7Padding<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span>keyData<span class="token punctuation">.</span>length<span class="token punctuation">,</span>iv<span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>bytes<span class="token punctuation">,</span><span class="token keyword">self</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>decryptedData<span class="token punctuation">.</span>mutableBytes<span class="token punctuation">,</span>decryptedData<span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token operator">&amp;</span>dataMoved<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> kCCSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        decryptedData<span class="token punctuation">.</span>length <span class="token operator">=</span> dataMoved<span class="token punctuation">;</span>
        <span class="token keyword">return</span> decryptedData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> nil<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<h4 id="30、单个页面多个网络请求的情况，需要监听所有网络请求结束后刷新UI"><a href="#30、单个页面多个网络请求的情况，需要监听所有网络请求结束后刷新UI" class="headerlink" title="30、单个页面多个网络请求的情况，需要监听所有网络请求结束后刷新UI"></a>30、单个页面多个网络请求的情况，需要监听所有网络请求结束后刷新UI</h4><pre class=" language-objectivec"><code class="language-objectivec">dispatch_group_t group <span class="token operator">=</span> <span class="token function">dispatch_group_create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dispatch_queue_t serialQueue <span class="token operator">=</span> <span class="token function">dispatch_queue_create</span><span class="token punctuation">(</span><span class="token string">"com.wzb.test.www"</span><span class="token punctuation">,</span> DISPATCH_QUEUE_SERIAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch_group_enter</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch_group_async</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> serialQueue<span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 网络请求一</span>
        <span class="token punctuation">[</span>WebClick getDataSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>ResponseModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch_group_leave</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch_group_leave</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch_group_enter</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch_group_async</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> serialQueue<span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 网络请求二</span>
        <span class="token punctuation">[</span>WebClick getDataSuccess<span class="token punctuation">:</span>getBigTypeRM onSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>ResponseModel <span class="token operator">*</span>model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch_group_leave</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>                                  failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>errorString<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch_group_leave</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch_group_enter</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch_group_async</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> serialQueue<span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 网络请求三</span>
        <span class="token punctuation">[</span>WebClick getDataSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
            <span class="token function">dispatch_group_leave</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>errorString<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch_group_leave</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 所有网络请求结束后会来到这个方法</span>
    <span class="token function">dispatch_group_notify</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> serialQueue<span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_global_queue</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
            <span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// 刷新UI</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

    

    
</div>


                

                <!-- Post Comments -->
                
                    







                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/03/25/iOS小经验（八）/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/03/17/iOS小经验（六）/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Aben's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        benkong_ah@foxmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: benkong_ah@foxmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">4</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/HTML笔记/">HTML笔记<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS合集/">iOS合集<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/categories/小经验/">小经验<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/技术向/">技术向<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/知识簿/">知识簿<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/自言语/">自言语<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/面试经/">面试经<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="关于我">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于我
            </a>
        </li>
        
    
        <li>
            <a href="/gallery" title="剪影">
                
                    <i class="material-icons sidebar-material-icons">camera</i>
                
                剪影
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.svg);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.svg);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-gplus.svg);">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Aben
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->

    <script src="/js/lazyload.min.js"></script>
    <script src="/js/js.min.js"></script>



    <script src="/js/nprogress.js"></script>


<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#FFFAFA'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FFFAFA, 0 0 15px #FFFAFA'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FFFAFA',
        'border-left-color': '#FFFAFA'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>
















<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script>
    <!-- Offer LazyLoad -->
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    <!-- Start Queue -->
    $(document).ready(function(){
        setTimeout(function(){
            setInterval(function(){
                queue.execNext();
            },200);
        },3000);
    });
</script>

                </main>
            </div>
        </body>
    
</html>
